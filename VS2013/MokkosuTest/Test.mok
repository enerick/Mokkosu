__define "CONSOLE_APPLICATION";
__define "SHOW_CLOSURE_RESULT";

let println x = __prim "println" (x);

#-----------------------------------------------------------------------------
# おかしくない
#-----------------------------------------------------------------------------
let test1 (foo : String) =
  do println foo in
  let (foo : Int) = 1 in
  do println foo end;

do println "----------------------";
do test1 "String";

# 出力
#> String
#> 1

#-----------------------------------------------------------------------------
# おかしい
#-----------------------------------------------------------------------------
let test2 (foo : String) bar =
  do println foo in
  let (foo : Int) = 1 in
  do println foo end;

do println "----------------------";
do test2 "String" 0;

# 出力
#> String
#> String

#-----------------------------------------------------------------------------
# おかしい
#-----------------------------------------------------------------------------
let test3 (foo1 : String) (foo2 : String) =
  do println foo1;
     println foo2;
  in
  let (foo1 : Int) = 1 in
  let (foo2 : Int) = 2 in
  do println foo1;
     println foo2;
  end;

do println "----------------------";
do test3 "String1" "String2";

#-----------------------------------------------------------------------------
# おかしい
#-----------------------------------------------------------------------------
let test4 (foo1 : String) (foo2 : String) bar1 =
  do println foo1;
     println foo2;
  in
  let (foo1 : Int) = 1 in
  let (foo2 : Int) = 2 in
  do println foo1;
     println foo2;
  end;

do println "----------------------";
do test4 "String1" "String2" 0;
